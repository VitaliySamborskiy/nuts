import{g as r,s as h,a as p,u as d}from"./main-2kuTH5xP.js";import{u as b}from"./use-fire-store-hmTsu6ty.js";import{u as w,a as v}from"./product-cards-JmAgqWhE.js";import{u as _,a as E}from"./querry-parameter-BbPXVIy4.js";function A(e,s,o,t,a,c){const n=e,u=Array.from(e);let i={};s.addEventListener("click",()=>{l(i),m(e,i),_(["weight","taste"],Object.values(i))}),o.addEventListener("click",()=>{I(c,n,e),l(i),_(["weight","taste"],Object.values(i))}),f(a,c,u,"descending"),f(t,c,u,"ascending"),L(i,e)}function m(e,s){e.forEach(o=>{let t=!0;if(s.weight!=="Масса"){const a=parseInt(o.getAttribute("data-weight")),[c,n]=s.weight.split("-").map(Number);(a<c||a>n)&&(t=!1)}if(s.taste!=="Вкус"&&t){const a=o.getAttribute("data-taste");s.taste!==a&&(t=!1)}o.classList.toggle("hidden",!t)})}function I(e,s,o){g(o,".product-filter__current-weight","Масса"),g(o,".product-filter__current-taste","Вкус"),s.forEach(t=>{e.appendChild(t)})}function g(e,s,o){e.forEach(t=>{t.classList.remove("hidden")}),r(s).textContent=o}function l(e){e.weight=r(".product-filter__current-weight").textContent.trim(),e.taste=r(".product-filter__current-taste").textContent.trim()}function f(e,s,o,t=null){e.addEventListener("click",()=>{o.sort((a,c)=>t==="ascending"?parseInt(a.getAttribute("data-price"))-parseInt(c.getAttribute("data-price")):parseInt(c.getAttribute("data-price"))-parseInt(a.getAttribute("data-price"))),o.forEach(a=>{s.appendChild(a)})})}function L(e,s){e=E(["weight","taste"],["weight","taste"]),m(s,e)}document.addEventListener("DOMContentLoaded",async function(){w(await b(await h(),"products"),r(".product__cards")).forEach(t=>{p(t.swiper,t.prev,t.next,"auto",0)}),p(r(".swiper"),r(".eco-nuts__button-prev"),r(".eco-nuts__button-next"),"auto",0),d("gs://nuts-17b69.appspot.com/product_catalog/product_catalog_1.webp",r(".products-page__img"));const s=["gs://nuts-17b69.appspot.com/product_catalog/product_catalog_2.webp","gs://nuts-17b69.appspot.com/main_page/main_page-2.webp","gs://nuts-17b69.appspot.com/companies/companies_2.webp"],o=r(".eco-nuts__img","all");for(let t=0;t<o.length;t++)d(s[t],o[t]);v(r(".product__cards"),r(".popup__content"),r(".popup__background-block"),r(".popup__cross")),A(r(".product__card","all"),r(".product-filter__apply-button"),r(".product-filter__cross-button"),r(".product-filter__higher-price"),r(".product-filter__lower-price"),r(".product__cards"))});
