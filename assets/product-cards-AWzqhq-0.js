import{u as b,g as o,q as p}from"./main-BPgowrMU.js";import{s as E}from"./swiper-BDI-ONPN.js";function h(t,e){x(e.title,t.title),C(e.prices,t.prices),L(e.slideWrapper,t.images)}function x(t,e){t.textContent=e}function C(t,e){let r;e[1]===null?(r=!0,t.lastElementChild.children[0].textContent=e[0]):(r=!1,t.firstElementChild.children[0].textContent=e[0],t.lastElementChild.children[0].textContent=e[1]),t.firstElementChild.classList.toggle("popup__hidden",r)}function L(t,e){t.innerHTML="";let r=document.createDocumentFragment();e.forEach(()=>{const i=document.createElement("div"),s=document.createElement("img");i.classList.add("swiper-slide"),s.classList.add("popup__img"),s.setAttribute("alt","images-product"),s.setAttribute("loading","lazy"),s.setAttribute("data-src",e.imgUrl),i.appendChild(s),r.appendChild(i)}),r.querySelectorAll(".popup__img").forEach((i,s)=>{b(e[s],i)}),t.appendChild(r),E(o(".popup__swiper"),o(".popup__button-prev"),o(".popup__button-next"),"auto",0)}function P(t){localStorage.setItem("productData",JSON.stringify(t))}function k(){const t=localStorage.getItem("productData");return t?JSON.parse(t):null}function v(t,e,r,n,i){const s=o(".popup__scroll");let c;t.addEventListener("click",l=>{const d=l.target.closest(".base-product__search"),g=l.target.closest(".base-product__button-next"),_=l.target.closest(".base-product__button-prev"),a=l.target.closest(".product__link");if(d&&(l.preventDefault(),c=!0,u(e,r,c),p.disablePageScroll(s),h({title:a.parentElement.getAttribute("data-title"),prices:JSON.parse(a.parentElement.getAttribute("data-prises")),images:JSON.parse(a.parentElement.getAttribute("data-imgUrl"))},{title:o(".popup__title"),prices:o(".popup__price"),slideWrapper:o(".popup__swiper-wrapper"),popup:e,popupBlock:r})),g&&l.preventDefault(),_&&l.preventDefault(),a){const m=i.filter(f=>f.art===a.parentElement.getAttribute("data-arc"));P(m)}}),n.addEventListener("click",()=>{c=!1,u(e,r,c),p.enablePageScroll(s)})}function u(t,e,r){setTimeout(()=>{t.classList.toggle("popup__content_active",r)},r?0:900),setTimeout(()=>{e.classList.toggle("popup__background-block_active",r)},r?10:0)}export{h as a,u as c,k as g,v as u};
