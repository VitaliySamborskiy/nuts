import{g as r,s as g,a as h}from"./main-BjcFCJsn.js";import{u as m}from"./use-fire-store-CevuTT15.js";import{u as w,a as b}from"./product-cards-CCToneb5.js";import{u as p,a as v}from"./querry-parameter-BbPXVIy4.js";function E(t,e,s,i,c,a){const n=t,u=Array.from(t);let o={};e.addEventListener("click",()=>{f(o),_(t,o),p(["weight","taste"],Object.values(o))}),s.addEventListener("click",()=>{A(a,n,t),f(o),p(["weight","taste"],Object.values(o))}),l(c,a,u,"descending"),l(i,a,u,"ascending"),L(o,t)}function _(t,e){t.forEach(s=>{let i=!0;if(e.weight!=="Масса"){const c=parseInt(s.getAttribute("data-weight")),[a,n]=e.weight.split("-").map(Number);(c<a||c>n)&&(i=!1)}if(e.taste!=="Вкус"&&i){const c=s.getAttribute("data-taste");e.taste!==c&&(i=!1)}s.classList.toggle("hidden",!i)})}function A(t,e,s){d(s,".product-filter__current-weight","Масса"),d(s,".product-filter__current-taste","Вкус"),e.forEach(i=>{t.appendChild(i)})}function d(t,e,s){t.forEach(i=>{i.classList.remove("hidden")}),r(e).textContent=s}function f(t){t.weight=r(".product-filter__current-weight").textContent.trim(),t.taste=r(".product-filter__current-taste").textContent.trim()}function l(t,e,s,i=null){t.addEventListener("click",()=>{s.sort((c,a)=>i==="ascending"?parseInt(c.getAttribute("data-price"))-parseInt(a.getAttribute("data-price")):parseInt(a.getAttribute("data-price"))-parseInt(c.getAttribute("data-price"))),s.forEach(c=>{e.appendChild(c)})})}function L(t,e){t=v(["weight","taste"],["weight","taste"]),_(e,t)}document.addEventListener("DOMContentLoaded",async function(){w(await m(await g(),"products"),r(".product__cards")).forEach(e=>{h(e.swiper,e.prev,e.next,"auto",0)}),b(r(".product__cards"),r(".popup__content"),r(".popup__background-block"),r(".popup__cross")),E(r(".product__card","all"),r(".product-filter__apply-button"),r(".product-filter__cross-button"),r(".product-filter__higher-price"),r(".product-filter__lower-price"),r(".product__cards"))});
