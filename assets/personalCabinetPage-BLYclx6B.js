import{e as n,h as a,i as e,j as s,k as t,l,m as i,g as r,u as o,n as c,b as _,s as p,f as b,o as d}from"./main-CMvXffeB.js";import{u,a as g}from"./querry-parameter-B5wDP--x.js";import{u as v,s as m,a as h}from"./phone-mask-ByTpL94y.js";import{u as f,a as y,n as w}from"./form-validate-DvYzVQYK.js";function k(n,a){!function(n,a){let e="";e=`<div class="personal-cabinet__table-order-history">\n                    <table class="personal-cabinet__table">\n                        <thead>\n                            <tr class="personal-cabinet__table-header">\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">№ Заказа</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">Дата</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">Кол - во товаров</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">Статус</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">Стоимость</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-block-title">\n                                    <h3 class="personal-cabinet__table-title">Функции</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                            </tr>\n                        </thead>\n                      ${x()}\n                    </table>\n                </div>`,a.innerHTML=e}(0,n)}function L(n,a){!function(n,a){let e="";e+=`<div class="personal-cabinet__table-order-history">\n                    <table class="personal-cabinet__table">\n                        <thead>\n                            <tr class="personal-cabinet__table-header personal-cabinet__table-header-transaction">\n                                <th class="personal-cabinet__table-transaction">\n                                    <h3 class="personal-cabinet__table-title">Добавлено</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-transaction">\n                                    <h3 class="personal-cabinet__table-title">Статус</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                                <th class="personal-cabinet__table-transaction">\n                                    <h3 class="personal-cabinet__table-title">Сумма</h3>\n                                    <svg class="personal-cabinet__table-svg">\n                                        <use href="#arrow_down"></use>\n                                    </svg>\n                                </th>\n                            </tr>\n                        </thead>\n                         ${x()}\n                    </table>\n                </div>`,a.innerHTML=e}(0,n)}function x(){let n="";return n+='  <tbody>\n                      <tr>\n                         <td class="personal-cabinet__table-info-text">Дані відсутні</td>\n                      </tr>\n               </tbody>','  <tbody>\n                      <tr>\n                         <td class="personal-cabinet__table-info-text">Дані відсутні</td>\n                      </tr>\n               </tbody>'}async function P(o,c,_){let p,b;p=c.role.company?n(o,["company","contactPerson","emailContact","phone","avatar"]):n(o,["name","emailContact","phone","avatar"]),await a(_,"user").then((n=>{n.forEach((n=>{n.data.email===c.email&&(b=n.id)}))})),await e(p.avatar).then((n=>{p.avatar=n,s(c.avatar)})).catch((n=>{p.avatar=null})),await t(_,"user",b,p).then((n=>{})).catch((n=>{}));const d=await l(_,{displayName:p.name,photoURL:p.avatar,phoneNumber:p.phone});i(d,window.innerWidth>=768?r(".header__top-authentication-wrapper"):r(".burger__authentication"))}async function E(e,s,l){let i,o;s.role.company?(i=n(e,["EDRPOUCode","city","addresses","companyLegalCity","companyLegalAddress","companyLegalIndex"]),c(i,["selectCountry","selectRegion","companyLegalSelectCountry","companyLegalSelectRegion"],[".registration__current-country",".registration__current-region",".personal-cabinet__current-country-legal",".personal-cabinet__current-region-legal"],["Страна","Область","Район","Воєводство","Повіт","Федеральна земля"])):(i=n(e,["city","city","addresses"]),c(i,["selectCountry","selectRegion"],[".registration__current-country",".registration__current-region"],["Страна","Область","Район","Воєводство","Повіт","Федеральна земля"])),await a(l,"user").then((n=>{n.forEach((n=>{n.data.email===s.email&&(o=n.id)}))})),await t(l,"user",o,i).then((n=>{w.Notify.success("Дані успішно були оновлені"),_(r(".input__area","all"))})).catch((n=>{w.Notify.failure(`Сталася помилка ${n}`)}))}function $(n,a,e){a.role.company?function(n,a,e){let s="";s=` <div class="personal-cabinet__address-section-legal">\n                    <form class="personal-cabinet__address-legal" id="addressUserLegalForm">\n                        <div class="personal-cabinet__address-legal-sub-form-short">\n                            <h3 class="personal-cabinet__address-title">1. Реквизиты</h3>\n                            <div class="input__block">\n                                <label class="input__label" for="requisites">ОКПО</label>\n                                <input\n                                    class="personal-cabinet__input input__area"\n                                    id="requisites"\n                                    type="text"\n                                    name="requisites"\n                                />\n                            </div>\n                        </div>\n                        <div class="personal-cabinet__address-legal-sub-form">\n                            <h3 class="personal-cabinet__address-title">2. Адрес</h3>\n                            <div class="personal-cabinet__address-form">\n                            ${m()}\n                                <div class="input__block">\n                                    <label class="input__label" for="city">Город*</label>\n                                    <input\n                                        class="personal-cabinet__input input__area"\n                                        id="city"\n                                        type="text"\n                                        name="city"\n                                    />\n                                </div>\n                                <div class="input__block">\n                                    <label class="input__label" for="addresses">Адрес</label>\n                                    <input\n                                        class="personal-cabinet__input input__area"\n                                        id="addresses"\n                                        type="text"\n                                        name="addresses"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        <div class="personal-cabinet__address-legal-sub-form">\n                            <h3 class="personal-cabinet__address-title">3. Юридический адрес</h3>\n                            <div class="personal-cabinet__address-form">\n                                ${m({body:"personal-cabinet__select-body",header:"personal-cabinet__select-header",selectCountry:"personal-cabinet__select-country-legal",selectRegion:"personal-cabinet__select-region-legal",currentCountry:"personal-cabinet__current-country-legal",currentRegion:"personal-cabinet__current-region-legal",subClass:"region-legal",subBodyClass:"personal-cabinet__body-wrapper"})}\n                                <div class="input__block">\n                                    <label class="input__label" for="cityLegal">Город*</label>\n                                    <input\n                                        class="personal-cabinet__input input__area"\n                                        id="cityLegal"\n                                        type="text"\n                                        name="cityLegal"\n                                    />\n                                </div>\n                                <div class="input__block">\n                                    <label class="input__label" for="addressesLegal">Адрес</label>\n                                    <input\n                                        class="personal-cabinet__input input__area"\n                                        id="addressesLegal"\n                                        type="text"\n                                        name="addressesLegal"\n                                    />\n                                </div>\n                                <div class="input__block">\n                                    <label class="input__label" for="indexLegal">Индекс</label>\n                                    <input\n                                        class="personal-cabinet__input input__area"\n                                        id="indexLegal"\n                                        type="text"\n                                        name="indexLegal"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        <button\n                            class="green-button personal-cabinet__address-button personal-cabinet__address-legal-button"\n                        >\n                            Сохранить\n                        </button>\n                    </form>\n                    <div class="personal-cabinet__address-img-block">\n                        <picture class="personal-cabinet__address-picture">\n                            <img class="personal-cabinet__address-img" src="" alt="nuts tree" />\n                        </picture>\n                        <div class="personal-cabinet__address-background"></div>\n                        <div class="personal-cabinet__address-img-text-block">\n                            <h2 class="personal-cabinet__address-img-title">Орех Причерноморья</h2>\n                            <p class="personal-cabinet__address-img-text">\n                                Единственный в Украине сад совместного выращивания фундука и грецкого ореха\n                            </p>\n                        </div>\n                    </div>\n                </div>`,n.innerHTML=s,o("gs://nuts-17b69.appspot.com/personal-cabinet/personal-cabinet.webp",r(".personal-cabinet__address-img")),A("addressUserLegalForm",a,e)}(n,a,e):function(n,a,e){let s="";s=` <div class="personal-cabinet__address">\n                    <h3 class="personal-cabinet__address-title">Адрес</h3>\n                    <form class="personal-cabinet__address-form" id="addressUserForm">\n                    ${m()}                \n                        <div class="input__block">\n                            <label class="input__label" for="city">Город*</label>\n                            <input class="personal-cabinet__input input__area" id="city" type="text" name="city" />\n                        </div>\n                        <div class="input__block">\n                            <label class="input__label" for="addresses">Адрес</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="addresses"\n                                type="text"\n                                name="addresses"\n                            />\n                        </div>\n                    </form>\n                    <button class="green-button personal-cabinet__address-button">Сохранить</button>\n                </div>`,n.innerHTML=s,A("addressUserForm",a,e)}(n,a,e)}function A(n,a,e){f(r(".input__area","all"),r(".input__label","all")),y(r(n,"id"),r(".personal-cabinet__input","all"),{city:{void:"не вказане місто",regExp:"Назви міст не мають мати цифри в собі та інші заборонені символи"},cityLegal:{void:"не вказане місто",regExp:"Назви міст не мають мати цифри в собі та інші заборонені символи"}},{city:/[a-zа-яціїєґ\\-]+/gi,cityLegal:/[a-zа-яціїєґ\\-]+/gi},E,r(".personal-cabinet__address-button"),[r(n,"id"),a,e]),p(r(".registration__current-country","all"),r(".registration__select-country","all")),p(r(".registration__current-region","all"),r(".registration__select-region","all")),h(r(".registration__current-country"),r(".inputs-select__body-wrapper","all"),r(".registration__current-region"),r(".region")),p(r(".personal-cabinet__current-country-legal","all"),r(".personal-cabinet__select-country-legal","all")),p(r(".personal-cabinet__current-region-legal","all"),r(".personal-cabinet__select-region-legal","all"));try{h(r(".personal-cabinet__current-country-legal"),r(".personal-cabinet__body-wrapper","all"),r(".personal-cabinet__current-region-legal"),r(".region-legal"))}catch(s){}}let C;function F(n,a,e,s){""!==window.location.search?(n.forEach((n=>{n.classList.remove("personal-cabinet__link_active")})),U(e,a),r(C.tabButton,"id").classList.add("personal-cabinet__link_active")):U(e,a),n.forEach((t=>{t.addEventListener("click",(t=>{n.forEach((n=>{n.classList.remove("personal-cabinet__link_active")})),t.currentTarget.classList.add("personal-cabinet__link_active"),u(["tabButton"],[t.currentTarget.id]),U(e,a),s.classList.remove("personal-cabinet__block-list_active")}))}))}function U(n,a){switch(C=g(["tabButton"],["tabButton"]),C.tabButton){case"tableOrder":k(r(".personal-cabinet__renders-area"));break;case"tableTransaction":L(r(".personal-cabinet__renders-area"));break;case"contactInformation":!function(n,a,e){let s="",t="";t=n.role.company?'<div class="input__block">\n                                        <label class="input__label" for="company">\n                                            Компания*\n                                        </label>\n                                        <input\n                                            class="personal-cabinet__input input__area"\n                                            id="company"\n                                            type="text"\n                                            name="company"\n                                        />\n                                    </div>\n                                    <div class="input__block">\n                                        <label class="input__label" for="сontactPerson">\n                                            Контактное лицо*\n                                        </label>\n                                        <input\n                                            class="personal-cabinet__input input__area"\n                                            id="сontactPerson"\n                                            type="text"\n                                            name="сontactPerson"\n                                        />\n                                    </div>':'<div class="input__block">\n                                        <label class="input__label" for="personalInformation">\n                                            ФИО*\n                                        </label>\n                                        <input\n                                            class="personal-cabinet__input input__area"\n                                            id="personalInformation"\n                                            type="text"\n                                            name="fullName"\n                                        />\n                                    </div>',s=` <form class="personal-cabinet__rename-form" id="renameForm" name="renameForm">\n                    <div class="personal-cabinet__rename-block">\n                        <div class="personal-cabinet__inputs-text">\n                            ${t}\n                            <div class="input__block">\n                                <label class="input__label" for="email">Email*</label>\n                                <input\n                                    class="personal-cabinet__input input__area"\n                                    id="email"\n                                    type="email"\n                                    name="email"\n                                />\n                            </div>\n                            <div class="input__block">\n                                <label class="input__label" for="phoneNumber">Телефон*</label>\n                                <input\n                                    class="personal-cabinet__input input__area"\n                                    id="phoneNumber"\n                                    type="text"\n                                    name="phone"\n                                />\n                            </div>\n                        </div>\n                        <div class="personal-cabinet__input-photo input-photo__block">\n                            <label class="input-photo__label" for="avatar">\n                                <img class="input-photo__img personal-cabinet__img" src="" alt="avatar selection" />\n                                <span class="personal-cabinet__background-input">\n                                    <span class="personal-cabinet__text-input">Изменить фото</span>\n                                </span>\n                                <input\n                                    class="input-photo__input personal-cabinet__input-photo-user personal-cabinet__input"\n                                    type="file"\n                                    accept="image/jpeg, image/png"\n                                    id="avatar"\n                                    name="photoAvatar"\n                                    aria-label="avatar selection"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    <button class="personal-cabinet__save-button green-button">Сохранить</button>\n                </form>`,a.innerHTML=s,n.avatar?o(n.avatar,r(".personal-cabinet__img")):o("gs://nuts-17b69.appspot.com/avatar.webp",r(".personal-cabinet__img")),v(r("phoneNumber","id"),"UA",/\+/g,"+380"),f(r(".input__area","all"),r(".input__label","all")),y(r("renameForm","id"),r(".personal-cabinet__input","all"),{company:{void:"наазва компанії не вказана"},"сontactPerson":{void:"контактну особу не вказано!"},fullName:{void:"фио не вказано!"},email:{void:"не вказана електрона почта!",regExp:"не правильна почта відсутній символ @"},phone:{void:"не вказаний номер телефону",regExp:"не вірний формат номеру телефону"},photoAvatar:{void:null,regExp:"Ваш файл не відповідає формату .png, .jpg, або .jpeg"}},{email:/[0-9a-zа-яціїєґ\\.\\@]+@[0-9a-zа-яціїєґ\\.]+/gi,phone:/^\+?[0-9]{1,4}[-\s]?[(]?[0-9]{2,4}[)]?[-\s]?[0-9]{3}[-\s]?[0-9]{2}[-\s]?[0-9]{2}$/gi,photoAvatar:/([a-z0-9а-яціїєґ\s_\\.\-\\(\\):])+(\.png|\.jpg|\.jpeg)$/gi},P,r(".personal-cabinet__save-button"),[r("renameForm","id"),n,e],r(".personal-cabinet__img"),r(".personal-cabinet__input-photo-user"))}(a,r(".personal-cabinet__renders-area"),n);break;case"passwordUser":!function(n){let a="";a='<div class="personal-cabinet__address">\n                    <h3 class="personal-cabinet__address-title">Пароль</h3>\n                    <form class="personal-cabinet__address-form" id="passwordUserForm">\n                        <div class="input__block">\n                            <label class="input__label" for="password">Текущий пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="password"\n                                type="text"\n                                name="password"\n                            />\n                        </div>\n                        <div class="input__block">\n                            <label class="input__label" for="newPassword">Новый пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="newPassword"\n                                type="text"\n                                name="newPassword"\n                            />\n                        </div>\n                        <div class="input__block">\n                            <label class="input__label" for="confirmPassword">Подтвердить пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="confirmPassword"\n                                type="text"\n                                name="confirmPassword"\n                            />\n                        </div>\n                    </form>\n                    <button class="green-button personal-cabinet__address-button">Сохранить</button>\n                </div>',n.innerHTML='<div class="personal-cabinet__address">\n                    <h3 class="personal-cabinet__address-title">Пароль</h3>\n                    <form class="personal-cabinet__address-form" id="passwordUserForm">\n                        <div class="input__block">\n                            <label class="input__label" for="password">Текущий пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="password"\n                                type="text"\n                                name="password"\n                            />\n                        </div>\n                        <div class="input__block">\n                            <label class="input__label" for="newPassword">Новый пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="newPassword"\n                                type="text"\n                                name="newPassword"\n                            />\n                        </div>\n                        <div class="input__block">\n                            <label class="input__label" for="confirmPassword">Подтвердить пароль*</label>\n                            <input\n                                class="personal-cabinet__input input__area"\n                                id="confirmPassword"\n                                type="text"\n                                name="confirmPassword"\n                            />\n                        </div>\n                    </form>\n                    <button class="green-button personal-cabinet__address-button">Сохранить</button>\n                </div>',f(r(".input__area","all"),r(".input__label","all")),y(r("passwordUserForm","id"),r(".personal-cabinet__input","all"),{password:{void:"не ведений пароль",regExp:"пароль має містити латинські літери A-Z, хочаб ону цифру 0-9 та один спеціальний символ з #?!@$%^&*-"},newPassword:{void:"не ведений пароль",regExp:"пароль має містити латинські літери A-Z, хочаб ону цифру 0-9 та один спеціальний символ з #?!@$%^&*-"},confirmPassword:{void:"не ведений пароль",regExp:"пароль має містити латинські літери A-Z, хочаб ону цифру 0-9 та один спеціальний символ з #?!@$%^&*-",password:"Паролі не співпадають"}},{password:/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/gi,newPassword:/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/gi,confirmPassword:/^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/gi},(()=>{}),r(".personal-cabinet__address-button"))}(r(".personal-cabinet__renders-area"));break;case"addressForm":$(r(".personal-cabinet__renders-area"),a,n);break;default:k(r(".personal-cabinet__renders-area")),r("tableOrder","id").classList.add("personal-cabinet__link_active")}}document.addEventListener("DOMContentLoaded",(async function(){const n=b.getApp();var a,e,s,t;o("gs://nuts-17b69.appspot.com/avatar.webp",r(".personal-cabinet__img")),setTimeout((()=>{let a=d.getUser();F(r(".personal-cabinet__link","all"),a,n,r(".personal-cabinet__block-list"))}),600),a=r(".personal-cabinet__button"),e=r(".personal-cabinet__block-list"),s=r(".personal-cabinet__menu-cross"),t="personal-cabinet__block-list_active",a.addEventListener("click",(()=>{e.classList.add(t)})),s.addEventListener("click",(()=>{e.classList.remove(t)})),_(r(".input__area","all")),F(r(".personal-cabinet__link","all"))}));
