import{g as t,u as e,a as r,s as a,f as o}from"./main-CMvXffeB.js";import{u as c}from"./use-render-cards-isM1pPW_.js";import{s}from"./swiper-DFaa5Y43.js";import{u as i,a as n}from"./querry-parameter-B5wDP--x.js";import{u as p}from"./product-cards-Cb-mYOLn.js";import"./youtube-app-CHk8S_B0.js";function u(t,e,r,a,o,c){const s=t,p=Array.from(t);let u={weight:"Масса",taste:"Вкус"};e.addEventListener("click",(()=>{l(u),d(t,u),i(["weight","taste"],Object.values(u))})),r.addEventListener("click",(()=>{!function(t,e,r){_(r,".product-filter__current-weight","Масса"),_(r,".product-filter__current-taste","Вкус"),e.forEach((e=>{t.appendChild(e)}))}(c,s,t),l(u),i(["weight","taste"],Object.values(u))})),""===window.location.search&&i(["weight","taste"],Object.values(u)),g(o,c,p,"descending"),g(a,c,p,"ascending"),function(t,e){t=n(["weight","taste"],["weight","taste"]),d(e,t)}(u,t)}function d(t,e){t.forEach((t=>{let r=!0;if("Масса"!==e.weight){const a=parseInt(t.getAttribute("data-weight")),[o,c]=e.weight.split("-").map(Number);(a<o||a>c)&&(r=!1)}if("Вкус"!==e.taste&&r){const a=t.getAttribute("data-taste");e.taste!==a&&(r=!1)}t.classList.toggle("hidden",!r)}))}function _(e,r,a){e.forEach((t=>{t.classList.remove("hidden")})),t(r).textContent=a}function l(e){e.weight=t(".product-filter__current-weight").textContent.trim(),e.taste=t(".product-filter__current-taste").textContent.trim()}function g(t,e,r,a=null){t.addEventListener("click",(()=>{r.sort(((t,e)=>"ascending"===a?parseInt(t.getAttribute("data-price"))-parseInt(e.getAttribute("data-price")):parseInt(e.getAttribute("data-price"))-parseInt(t.getAttribute("data-price")))),r.forEach((t=>{e.appendChild(t)}))}))}document.addEventListener("DOMContentLoaded",(async function(){const i=o.getApp();await e("gs://nuts-17b69.appspot.com/product_catalog/product_catalog_1.webp",t(".products-page__img"));const n=["gs://nuts-17b69.appspot.com/product_catalog/product_catalog_2.webp","gs://nuts-17b69.appspot.com/main_page/main_page-2.webp","gs://nuts-17b69.appspot.com/companies/companies_2.webp"],d=t(".eco-nuts__img","all");for(let t=0;t<d.length;t++)e(n[t],d[t]);const _=await r(i,"products");c(_,t(".product__cards")).forEach((t=>{s(t.swiper,t.prev,t.next,"auto",0)})),s(t(".eco-nuts__swiper"),t(".eco-nuts__button-prev"),t(".eco-nuts__button-next"),"auto",0),a(t(".product-filter__current-weight","all"),t(".product-filter__select-weight","all")),a(t(".product-filter__current-taste","all"),t(".product-filter__select-taste","all")),p(t(".product__cards"),t(".popup__content"),t(".popup__background-block"),t(".popup__cross"),_),u(t(".product__card","all"),t(".product-filter__apply-button"),t(".product-filter__cross-button"),t(".product-filter__higher-price"),t(".product-filter__lower-price"),t(".product__cards"))}));
