import{g as t,u as w,s as l,a as _,b as d,f as b}from"./main-BEpViKtm.js";import{u as v,a as E}from"./product-cards-fGCWoPpi.js";import{u,a as A}from"./querry-parameter-8F5Ngxzv.js";import"./local-storage-Dq6mamxl.js";function I(e,r,c,a,o,s){const n=e,p=Array.from(e);let i={weight:"Масса",taste:"Вкус"};r.addEventListener("click",()=>{f(i),h(e,i),u(["weight","taste"],Object.values(i))}),c.addEventListener("click",()=>{L(s,n,e),f(i),u(["weight","taste"],Object.values(i))}),window.location.search===""&&u(["weight","taste"],Object.values(i)),m(o,s,p,"descending"),m(a,s,p,"ascending"),x(i,e)}function h(e,r){e.forEach(c=>{let a=!0;if(r.weight!=="Масса"){const o=parseInt(c.getAttribute("data-weight")),[s,n]=r.weight.split("-").map(Number);(o<s||o>n)&&(a=!1)}if(r.taste!=="Вкус"&&a){const o=c.getAttribute("data-taste");r.taste!==o&&(a=!1)}c.classList.toggle("hidden",!a)})}function L(e,r,c){g(c,".product-filter__current-weight","Масса"),g(c,".product-filter__current-taste","Вкус"),r.forEach(a=>{e.appendChild(a)})}function g(e,r,c){e.forEach(a=>{a.classList.remove("hidden")}),t(r).textContent=c}function f(e){e.weight=t(".product-filter__current-weight").textContent.trim(),e.taste=t(".product-filter__current-taste").textContent.trim()}function m(e,r,c,a=null){e.addEventListener("click",()=>{c.sort((o,s)=>a==="ascending"?parseInt(o.getAttribute("data-price"))-parseInt(s.getAttribute("data-price")):parseInt(s.getAttribute("data-price"))-parseInt(o.getAttribute("data-price"))),c.forEach(o=>{r.appendChild(o)})})}function x(e,r){e=A(["weight","taste"],["weight","taste"]),h(r,e)}document.addEventListener("DOMContentLoaded",async function(){const e=b.getApp(),r=await w(e,"products");v(r,t(".product__cards")).forEach(s=>{l(s.swiper,s.prev,s.next,"auto",0)}),l(t(".eco-nuts__swiper"),t(".eco-nuts__button-prev"),t(".eco-nuts__button-next"),"auto",0),_("gs://nuts-17b69.appspot.com/product_catalog/product_catalog_1.webp",t(".products-page__img"));const a=["gs://nuts-17b69.appspot.com/product_catalog/product_catalog_2.webp","gs://nuts-17b69.appspot.com/main_page/main_page-2.webp","gs://nuts-17b69.appspot.com/companies/companies_2.webp"],o=t(".eco-nuts__img","all");for(let s=0;s<o.length;s++)_(a[s],o[s]);d(t(".product-filter__current-weight","all"),t(".product-filter__select-weight","all")),d(t(".product-filter__current-taste","all"),t(".product-filter__select-taste","all")),E(t(".product__cards"),t(".popup__content"),t(".popup__background-block"),t(".popup__cross"),r),I(t(".product__card","all"),t(".product-filter__apply-button"),t(".product-filter__cross-button"),t(".product-filter__higher-price"),t(".product-filter__lower-price"),t(".product__cards"))});
