import{p as k}from"./main-DjolN_Yf.js";function R(i,r){i.forEach((a,o)=>{a.addEventListener("input",()=>{w(a,a.value.trim()!=="",r,o)}),a.addEventListener("focus",()=>{a.value.trim()===""&&w(a,a.value.trim()==="",r,o)}),a.addEventListener("blur",()=>{w(a,a.value.trim()!=="",r,o)})})}function w(i,r,a,o){let e=!1;r&&(e=!0),a[o].classList.toggle("input__label_active",e)}function A(i,r){const a=new FileReader,o=r.files[0];a.readAsDataURL(o),a.onload=()=>{i.src=a.result}}let f=!0;function S(i,r,a,o,e,c,l=null,u=null,E=null){r.forEach((t,n)=>{t.addEventListener("input",()=>{t.name in a&&v(t.name,a[t.name],n,t,o[t.name])}),t.addEventListener("blur",()=>{t.name in a&&v(t.name,a[t.name],n,t,o[t.name]),console.log(f)}),c.addEventListener("click",h=>{h.preventDefault(),t.name in a&&v(t.name,a[t.name],n,t,o[t.name])})}),c.addEventListener("click",()=>{f?e(...l):k.Notify.warning("Перевірте всі поля вводу")});function v(t,n,h,s,p=null){const d=new FormData(i),_=s.parentElement.querySelector(".error__block"),y=d.get("photoAvatar");try{if(d.get(s.name)===""&&n.void!==null)throw new Error(n.void);if(s.name==="photoAvatar")if(y.name.match(p))A(u,E);else throw new Error(n.regExp);if(s.name!=="photoAvatar"&&!d.get(s.name).match(p)&&p)throw new Error(n.regExp);if(d.get("password")!==d.get("confirmPassword")&&n.password)throw new Error(n.password);m(_,s)}catch(g){L(s,g.message,_)}}}function b(i,r,a,o,e){e.addEventListener("click",()=>{const c=new FormData(i),l=a.parentElement.querySelector(".error__block");console.log(c);try{if(c.get(r)!=="on")throw new Error(o.check);m(l,a)}catch(u){L(a,u.message,l)}})}function L(i,r=null,a){if(a)i.parentElement.querySelector(".error__text").textContent=r;else{let o=document.createElement("div");o.classList.add("error__block");let e=`<p class="error__text">${r}</p>`;o.innerHTML=e,i.classList.add("error__input"),i.parentElement.appendChild(o)}f=!1}function m(i,r){i&&(r.classList.remove("error__input"),r.style.border="1px solid $subGreat",i.remove(),f=!0)}export{S as a,b as c,R as u};
